"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[430],{6132:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return u}});var n=r(7462),i=r(3366),o=(r(7294),r(3905)),a=["components"],s={id:"data-provider-discovery",title:"Data Provider Discovery",description:"How to perform discovery for data providers"},c=void 0,l={unversionedId:"data-provider-discovery",id:"data-provider-discovery",title:"Data Provider Discovery",description:"How to perform discovery for data providers",source:"@site/internal/specification/data-provider-discovery.md",sourceDirName:".",slug:"/data-provider-discovery",permalink:"/specification/data-provider-discovery",editUrl:"https://github.com/iSPIRT/depa/edit/main/internal/specification/data-provider-discovery.md",tags:[],version:"current",lastUpdatedAt:1646644554,formattedLastUpdatedAt:"3/7/2022",frontMatter:{id:"data-provider-discovery",title:"Data Provider Discovery",description:"How to perform discovery for data providers"},sidebar:"specification",previous:{title:"Entity resolution",permalink:"/specification/entity-resolution"},next:{title:"Mutual TLS Establishment",permalink:"/specification/mtls-establishment"}},p=[],d={toc:p};function u(e){var t=e.components,s=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"For the purpose of linking the DP with the CM we need to discover them first, this is achieved by the discovery flow. This is only required when linking of the accounts is initiated from the CMs system."),(0,o.kt)("p",null,"All the APIs within this flow are synchronous in nature as only the CM and the registry are the 2 parties which are interacting with each other."),(0,o.kt)("p",null,"Sequence Diagram"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"discoveryFlow",src:r(9051).Z,title:"discoveryFlow",width:"802",height:"439"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Endpoints")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"/dp/tags"))),(0,o.kt)("p",null,"This endpoint lists the tags using which registry has done the filtering. Example - #Hospital , #Pharmacy , #Bank, etc..."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"/dp"))),(0,o.kt)("p",null,"The endpoint which is used to query a registry. Provides the searching of the DPs based on following criteria"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"Id"))," - search by id if it's known. This can be different for the same entity on a different registry."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"Name"))," - search by name of the entity. Can enable/disable fuzzy matching."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"Tags"))," - search by tags. List of tags on a registry can be known by the /dp/tags endpoint."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"Location"))," - search nearby areas. This can be based on radius and current users location.")),(0,o.kt)("p",null,"Once the DP is discovered its details are known to the CM to initiate the linking process. The meta-data received by the registry also contains info on how the DP identifies the users in its system. This can be a mobile no, aadhaar no, email-id, custom identifier etc.. This is critical for the CM to know as it needs to capture this information from the user and send notification to DP for initiating linking of the user."))}u.isMDXComponent=!0},9051:function(e,t,r){t.Z=r.p+"assets/images/discovery-flow-7f4b10d8321c3bc32cbaf933d57056d2.png"},3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return f}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(r),f=i,m=u["".concat(c,".").concat(f)]||u[f]||d[f]||o;return r?n.createElement(m,a(a({ref:t},p),{},{components:r})):n.createElement(m,a({ref:t},p))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"}}]);